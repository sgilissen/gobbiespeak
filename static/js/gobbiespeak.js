// If you're looking at this, I am truly sorry for this horrible code. Pshkooooh.

let gobbieDict = {
 "stake": "stabbyiron",
 "cease": "decease",
 "desist": "insist",
 "reply": "backwords",
 "spy": "sneakypeeker",
 "snoop": "sneakypeeker",
 "activity": "doings",
 "admirable": "goodly",
 "closingtime": "after shoplock",
 "agitated": "unrelaxed",
 "goblinkind": "gobbiekind",
 "mankind": "uplanderkind",
 "discovery": "bigfind",
 "unthinking": "emptyhead",
 "ancient past": "earlytimes",
 "ancient text": "legendbook",
 "apology": "sorrycry",
 "apologize": "sorrycry",
 "apologise": "sorrycry",
 "arboretum": "planthouse",
 "greenhouse": "planthouse",
 "blindfold": "blindyfold",
 "energy": "surgebolt",
 "breakfast": "sunupses",
 "bridge": "watercross",
 "broken pieces": "bittybits",
 "business dealings": "busydeals",
 "things to do": "busytasks",
 "camp": "tent-ring",
 "rest": "shortstop",
 "catfish": "fishcat",
 "charlatan": "phonyfaker",
 "fraud": "phonyfaker",
 "checked": "boxcrossed",
 "chock-full": "brimful",
 "full": "brimful",
 "citizens": "cityfriends",
 "residents": "cityfriends",
 "clear": "clearknown",
 "self-evident": "clearknown",
 "combine": "melty-mix",
 "website": "nettysheet",
 "empty": "barebottoms",
 "crafted": "crafty-made",
 "manufactured": "crafty-made",
 "crafty": "craftysmart",
 "clever": "craftysmart",
 "cruel": "narrowheart",
 "unkind": "narrowheart",
 "current": "nowtimes",
 "presently": "nowtimes",
 "winds": "whirlywinds",
 "delicious": "lipsmacking",
 "desert": "sandylands",
 "desire": "lustyeyes",
 "document": "paperthing",
 "doom": "endtimes",
 "fork": "eating-tool",
 "spoon": "eating-tool",
 "meat": "tastymeat",
 "enlarged": "embiggened",
 "enough": "plentymuch",
 "plenty": "plentymuch",
 "eternity": "alltimes",
 "explosions": "firebooms",
 "explosion": "fireboom",
 "explosive combat": "bangyboom",
 "explosives": "boomdust",
 "fairytale": "faerielegend",
 "floating island": "floatyrock",
 "footsteps": "feet-thumping",
 "mostly": "mosty-part",
 "friend": "friendlyfriend",
 "friend to goblins": "gobbiefriend",
 "goblin friend": "gobbiefriend",
 "friendship between goblins": "gobbiebond",
 "garden": "mudplots",
 "gears": "whirlycogs",
 "machinery": "whirlycogs",
 "goblin": "gobbie",
 "goblins": "gobbies",
 "food": "gobbietreats",
 "gratitude": "manythanks",
 "assistance": "bighelp",
 "goblin group": "gobbieflock",
 "guards": "watchguards",
 "guns": "boomsticks",
 "work": "sweatwork",
 "labor": "sweatwork",
 "head": "braincase",
 "mind": "braincase",
 "hell": "deathpit",
 "helpful": "help-use",
 "history": "oldtimes",
 "home": "stayplace",
 "base": "stayplace",
 "elevator": "floatyboard",
 "hurt": "painthrob",
 "text": "scribblywrites",
 "ideas": "mindfruit",
 "idiot": "addlebrain",
 "impossible": "unpossible",
 "west": "westwise",
 "east": "eastwise",
 "neat": "straightways",
 "orderly": "straightways",
 "incantations": "deathwords",
 "insects": "badbugs",
 "intelligent": "sharpbrain",
 "intruders": "inbreakers",
 "itchy bites": "scratchybites",
 "juicy": "juicysweet",
 "kind": "widehearted",
 "big-hearted": "widehearted",
 "knowledge": "brainfruit",
 "light": "unheavy",
 "tasklist": "worklist",
 "tasklists": "worklists",
 "locked door": "shutport",
 "logbook": "watcherbook",
 "lover": "heartmate",
 "soulmade": "heartmate",
 "made by goblins": "of gobmake",
 "goblin-made": "of gobmake",
 "made specially": "specialmake",
 "magical barrier": "lightwall",
 "manufactory": "bangpots",
 "workshop": "bangpots",
 "factory": "bangpots",
 "thanks": "bigthanks",
 "materia": "stonyshine",
 "materia melding": "joiny-skill",
 "materia transmutation": "shifty-making",
 "fighters": "lentfists",
 "mercenaries": "lentfists",
 "metalwork": "metalworkings",
 "middleman": "middlethinker",
 "military": "fightyforce",
 "mindblowing": "mind-booming",
 "unbelievable": "mind-booming",
 "money": "jinglyshine",
 "monitor": "lightscreen",
 "morbols": "bigmouth slimyvines",
 "murder": "endmakes",
 "new": "shiny-new",
 "new person": "freshface",
 "foreigner": "uplander",
 "nonsense": "unsense",
 "not meant": "unmeant",
 "objective": "questprize",
 "reward": "questprize",
 "sigh": "shkohh",
 "optimistic": "goodthink",
 "overflowing": "overfull",
 "papers": "wordleaves",
 "parts of monsters": "creaturebits",
 "passed down through generations": "downhanded",
 "peaceful": "lovegobbie",
 "plan of attack": "planstrike",
 "attack plan": "planstrike",
 "plaza": "roundspot",
 "pleasant-looking": "eye-pleasing",
 "good-looking": "eye-pleasing",
 "predictions": "futurereadings",
 "prophet": "allseer",
 "prying eyes": "nosyeyes",
 "quick": "enswifted",
 "move quickly": "dizzyheels",
 "quickly": "quickfast",
 "quiet": "notloud",
 "rear": "sittyparts",
 "rewrite": "changewrite",
 "scar": "hurtmark",
 "settlement": "longstop",
 "shining": "sparklyshining",
 "pure": "sparklyshining",
 "perfect": "sparklyshining",
 "short legs": "halflegs",
 "shortly": "not farsoon",
 "jammer": "signalclogger",
 "simple": "easygame",
 "easy": "easygame",
 "sketch": "handdrawing",
 "sky pirates": "skystealers",
 "slowly": "snailfast",
 "steal": "dirty-take",
 "smelly": "stinkysweet",
 "soon": "nearsoon",
 "sparkles": "shinylights",
 "sparring": "fighty-play",
 "speed": "fastness",
 "spiritbond": "airyself",
 "stolen": "wrongtake",
 "stomachache": "bellypains",
 "buildings": "stonehuts",
 "strong": "strengthful",
 "student": "underlearner",
 "apprentice": "underlearner",
 "stupid": "addlebrained",
 "sunrise": "sunjump",
 "morning": "sunjump",
 "surprising": "bigeyes",
 "tasks": "checkwork",
 "Vath": "walkybugs",
 "buzzing": "wingbuzzing ",
 "goblinspeak": "gobbiespeak",
 "english": "uplanderspeak",
 "future": "comingtimes",
 "past": "pasttimes",
 "thief": "sneakytaker",
 "tinkering": "tinkerwork",
 "build": "buildywork",
 "much": "muchly",
 "assist": "give lenthand",
 "eaten": "munched",
 "excited": "heartthumpy",
 "brea": "makebreak",
 "bring": "backbring",
 "calculate": "numbercrunch",
 "carry": "backstrap",
 "chatter": "noisemake",
 "double-check": "straightmake",
 "handcraft": "handmake",
 "craft": "craftmake",
 "demonstrate": "teachy-show",
 "disassemble": "unmake",
 "destroy": "unmake",
 "emerge": "outstep",
 "engineer": "tinkermake",
 "explode": "kaboom",
 "mercenary": "sword-lend",
 "gladly give": "happygive",
 "convert": "changemake",
 "breakthrough": "break brainblocks",
 "help": "hand-lend",
 "warrior": "ironfist",
 "hum": "hums",
 "sing": "hums",
 "hurry": "make quickfeet",
 "secret": "sneakyhide",
 "kill": "deathmake",
 "listen": "make openears",
 "improve": "betterbuild",
 "backwards": "backmove",
 "notice": "eyecatch",
 "scheme": "plansmake",
 "power on": "powerstart",
 "predict": "beforesee",
 "foresee": "beforesee",
 "cook": "fancycook",
 "promise": "wordbond",
 "pledge": "wordbond",
 "contemplate": "backthink",
 "relax": "easybreathe",
 "go home": "homego",
 "reunite": "backmeet",
 "run fast": "make speedyfeet",
 "show": "showy-do",
 "simulate": "mockmake",
 "mock-up": "mockmake",
 "linkpearl": "airtalk",
 "speak": "trade tongueflaps",
 "flip": "do whirlyturns",
 "stalk": "backstalk",
 "stay calm": "keep steadynerves",
 "calm": "steadynerves",
 "retaliate": "backstrike",
 "retrieve": "backtake",
 "tinker": "gearfiddle",
 "turn off": "offpower",
 "power down": "offpower",
 "warn": "teachwarn",
 "patrol": "watchguard",
 "worry": "make worry-face",
 "tricky": "tricksy",
 "deceptive": "tricksy",
 "trinkets": "bittybobs",
 "unnecessary": "need-not",
 "unwanted": "need-not",
 "risky endeavor": "chance-game",
 "vegetables": "greengrub",
 "vegetable": "greengrub",
 "earthquake": "shiveryshakes",
 "vibrations": "shiveryshakes",
 "violent goblin": "fightgobbie",
 "warfare": "blastydoom",
 "weak": "unstrong",
 "weapon": "fighty-tool",
 "whiskers": "nosestrings",
 "words": "tongueflaps",
 "talk": "lipflaps",
 "wrong": "unright",
 "person": "uplander",
 "brain": "braincase",
 "golddigger": "shinyseeker",
 "most": "verymost",
 "lightbulb": "brightsphere",
 "lightbulbs": "brightspheres",
 "ladder": "polestairs",
 "fun": "goodtimes",
 "agreement": "busydeal",
 "you": "uplander",
 "your": "uplander",
 "yours": "uplanders",
 "school": "learnyplace",
 "study": "learnytimes",
 "optional": "neednot",
 "optionally": "neednotly",
 "allow": "cando",
 "hear": "ear-catch",
 "button": "pushyknob",
 "lever": "pullyhandle"
}

function dropAdjectives(txt) {
 let adjectiveList = [
     "the", "an", "a", "their", "his", "hers", "these", "those"
 ];
 let expString = adjectiveList.join("|");
 return txt.replace(new RegExp('\\b(' + expString + ')\\b', 'gi'), ' ').replace(/\s{2,}/g, ' ');
}

function convertThirdPerson(txt) {
 let rplList = [
     "me", "my", "mine", "i", "myself"
 ];
 let vowels = ['u', 'e', 'o', 'a', 'i'];
 let gobbieName = '';
 let expString = rplList.join("|");
 let inputName = document.getElementById('name').value;
 let nameLastChar = inputName.charAt(inputName.length -1);
 if(vowels.includes(nameLastChar)) {
  gobbieName = inputName + 'x';
 } else {
  gobbieName = inputName + 'ix';
 }

 return txt.replace(new RegExp('\\b(' + expString + ')\\b', 'gi'), gobbieName).replace(/\s{2,}/g, ' ');
}

function replaceByKey(txt) {
 return txt.replace(/(\w+)/g, (match, key) => gobbieDict[key] || match);
}

function capitalizeSentences(txt) {
 let arr = txt.split(".");
 for (let i = 0; i < arr.length; i++) {
  arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);
 }
 return arr.join(".");
}

function doTranslation() {
 let inputTxt = document.getElementById('entry').value;
 let replacedText = replaceByKey(inputTxt);
 let adjectDroppedText = dropAdjectives(replacedText);
 let capitalizedText = capitalizeSentences(adjectDroppedText);

 document.getElementById('result').value = convertThirdPerson(capitalizedText);
}
